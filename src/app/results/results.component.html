<body>
<div class="container px-3 py-5">
  <div class="pb-2 dropdown d-flex align-items-center justify-content-between border-bottom">
    <h2>{{ selectedLeague }} 2023/2024</h2>
    <button
      id="leagueDropdown"
      class="btn btn-secondary dropdown-toggle"
      type="button"
      data-bs-toggle="dropdown"
      aria-expanded="false"
    >
      Vyber ligu
    </button>
    <ul class="dropdown-menu">
      <li>
        <a class="dropdown-item custom-button" href="#">1.KL Západ</a>
      </li>
      <li>
        <a class="dropdown-item custom-button" href="#">3.liga TN kraja</a>
      </li>
    </ul>
  </div>
  <div *ngFor="let result of results" class="container result-margin py-1" id="vysledky1">

    <mat-accordion>

      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <div class="match-container w-100">
            <div class="date">
              {{ result.date }}
            </div>
            <div class="teamHome">
              {{ result.teamHome.teamName }}
            </div>
            <div class="scoreHeader">
              {{ result.team1ScoreOverall }}
            </div>
            <div class="resultHeader">
              {{ result.team1PointsOverall }} - {{ result.team2PointsOverall }}
            </div>
            <div class="scoreHeader">
              {{ result.team2ScoreOverall }}
            </div>
            <div class="teamAway">
              {{ result.teamAway.teamName }}
            </div>
          </div>
        </mat-expansion-panel-header>
        <div class="row">
          <!-- Container 1 -->
          <div class="head2head-container w-100">
            <span class="fs-5">1.</span>
            <div class="player fs-5">
              {{ result.player1Home.name }} {{ result.player1Home.surname }}
            </div>
            <div class="fs-5">
              {{ result.player1ScoreHome }}
            </div>
            <div class="result">
              <sup>B</sup>{{ result.player1PointsHome }} - {{ result.player1PointsAway }}<sup>B</sup>
            </div>
            <div class="fs-5">
              {{ result.player1ScoreAway }}
            </div>
            <div class="player fs-5">
              {{ result.player1Away.name }} {{ result.player1Away.surname }}
            </div>
          </div>

          <!-- Container 2 -->
          <div class="head2head-container w-100">
            <span class="fs-5">2.</span>
            <div class="player fs-5">
              {{ result.player2Home.name }} {{ result.player2Home.surname }}
            </div>
            <div class="fs-5">
              {{ result.player2ScoreHome }}
            </div>
            <div class="result">
              <sup>B</sup>{{ result.player2PointsHome }} - {{ result.player2PointsAway }}<sup>B</sup>
            </div>
            <div class="fs-5">
              {{ result.player2ScoreAway }}
            </div>
            <div class="player fs-5">
              {{ result.player2Away.name }} {{ result.player2Away.surname }}
            </div>
          </div>

          <!-- Container 3 -->
          <div class="head2head-container w-100">
            <span class="fs-5">3.</span>
            <div class="player fs-5">
              {{ result.player3Home.name }} {{ result.player3Home.surname }}
            </div>
            <div class="fs-5">
              {{ result.player3ScoreHome }}
            </div>
            <div class="result">
              <sup>B</sup>{{ result.player3PointsHome }} - {{ result.player3PointsAway }}<sup>B</sup>
            </div>
            <div class="fs-5">
              {{ result.player3ScoreAway }}
            </div>
            <div class="player fs-5">
              {{ result.player3Away.name }} {{ result.player3Away.surname }}
            </div>
          </div>

          <!-- Container 4 -->
          <div class="head2head-container w-100">
            <span class="fs-5">4.</span>
            <div class="player fs-5">
              {{ result.player4Home.name }} {{ result.player4Home.surname }}
            </div>
            <div class="fs-5">
              {{ result.player4ScoreHome }}
            </div>
            <div class="result">
              <sup>B</sup>{{ result.player4PointsHome }} - {{ result.player4PointsAway }}<sup>B</sup>
            </div>
            <div class="fs-5">
              {{ result.player4ScoreAway }}
            </div>
            <div class="player fs-5">
              {{ result.player4Away.name }} {{ result.player4Away.surname }}
            </div>
          </div>

          <!-- Container 5 -->
          <div class="head2head-container w-100">
            <span class="fs-5">5.</span>
            <div class="player fs-5">
              {{ result.player5Home.name }} {{ result.player5Home.surname }}
            </div>
            <div class="fs-5">
              {{ result.player5ScoreHome }}
            </div>
            <div class="result">
              <sup>B</sup>{{ result.player5PointsHome }} - {{ result.player5PointsAway }}<sup>B</sup>
            </div>
            <div class="fs-5">
              {{ result.player5ScoreAway }}
            </div>
            <div class="player fs-5">
              {{ result.player5Away.name }} {{ result.player5Away.surname }}
            </div>
          </div>

          <!-- Container 6 -->
          <div class="head2head-container w-100">
            <span class="fs-5">6.</span>
            <div class="player fs-5">
              {{ result.player6Home.name }} {{ result.player6Home.surname }}
            </div>
            <div class="fs-5">
              {{ result.player6ScoreHome }}
            </div>
            <div class="result">
              <sup>B</sup>{{ result.player6PointsHome }} - {{ result.player6PointsAway }}<sup>B</sup>
            </div>
            <div class="fs-5">
              {{ result.player6ScoreAway }}
            </div>
            <div class="player fs-5">
              {{ result.player6Away.name }} {{ result.player6Away.surname }}
            </div>
          </div>
        </div>

      </mat-expansion-panel>
    </mat-accordion>
  </div>
</div>

<button class="btn btn-circle btn-light btn-lg add-button" data-bs-toggle="modal" data-bs-target="#addResultModal" *ngIf="isAdmin()">
  <span class="fw-bold text-black">+</span>Pridať
</button>

<div class="modal fade" id="addResultModal" tabindex="-1" aria-labelledby="addResultModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered"  style="max-width: 1200px;">>
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="addResultLabel">Pridať výsledok</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body text-center">

        <div class="row">

          <div class="col-md-2">
            <mat-form-field>
              <mat-label>Vyber dátum</mat-label>
              <input matInput [matDatepicker]="picker">
              <mat-hint>DD/MM/RRRR</mat-hint>
              <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
              <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>
          </div>

          <div class="col-md-4">

            <mat-form-field>
              <mat-label>Vyber Tím 1</mat-label>
              <mat-select [(ngModel)]="teamHome" (ngModelChange)="onTeamHomeSelectionChange($event)">
                <mat-option *ngFor="let team of teams" [value]="team">{{ team.teamName }}</mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field>
              <mat-label>Hráč 1 {{teamHome.teamName}}</mat-label>
              <mat-select>
                <mat-option *ngFor="let player of playersHome" [value]="player">{{ player.name }} {{ player.surname }}</mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field>
              <mat-label>Hráč 2 {{teamHome.teamName}}</mat-label>
              <mat-select>
                <mat-option *ngFor="let player of playersHome" [value]="player">{{ player.name }} {{ player.surname }}</mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field>
              <mat-label>Hráč 3 {{teamHome.teamName}}</mat-label>
            <mat-select>
              <mat-option *ngFor="let player of playersHome" [value]="player">{{ player.name }} {{ player.surname }}</mat-option>
            </mat-select>
            </mat-form-field>

            <mat-form-field>
              <mat-label>Hráč 4 {{teamHome.teamName}}</mat-label>
              <mat-select>
                <mat-option *ngFor="let player of playersHome" [value]="player">{{ player.name }} {{ player.surname }}</mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field>
              <mat-label>Hráč 5 {{teamHome.teamName}}</mat-label>
            <mat-select>
              <mat-option *ngFor="let player of playersHome" [value]="player">{{ player.name }} {{ player.surname }}</mat-option>
            </mat-select>
            </mat-form-field>

            <mat-form-field>
              <mat-label>Hráč 6 {{teamHome.teamName}}</mat-label>
              <mat-select>
                <mat-option *ngFor="let player of playersHome" [value]="player">{{ player.name }} {{ player.surname }}</mat-option>
              </mat-select>
            </mat-form-field>

          </div>



          <div class="col-md-4">

            <mat-form-field>
              <mat-label>Vyber Tím 2</mat-label>
              <mat-select [(ngModel)]="teamAway" (ngModelChange)="onTeamAwaySelectionChange($event)">
                <mat-option *ngFor="let team of teams" value="one">{{team.teamName}}</mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field>
              <mat-label>Hráč 1 {{teamHome.teamAway}}</mat-label>
              <mat-select>
                <mat-option *ngFor="let player of playersAway" [value]="player">{{ player.name }} {{ player.surname }}</mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field>
              <mat-label>Hráč 2 {{teamHome.teamAway}}</mat-label>
              <mat-select>
                <mat-option *ngFor="let player of playersAway" [value]="player">{{ player.name }} {{ player.surname }}</mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field>
              <mat-label>Hráč 3 {{teamHome.teamAway}}</mat-label>
              <mat-select>
                <mat-option *ngFor="let player of playersAway" [value]="player">{{ player.name }} {{ player.surname }}</mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field>
              <mat-label>Hráč 4 {{teamHome.teamAway}}</mat-label>
              <mat-select>
                <mat-option *ngFor="let player of playersAway" [value]="player">{{ player.name }} {{ player.surname }}</mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field>
              <mat-label>Hráč 5 {{teamHome.teamAway}}</mat-label>
              <mat-select>
                <mat-option *ngFor="let player of playersAway" [value]="player">{{ player.name }} {{ player.surname }}</mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field>
              <mat-label>Hráč 6 {{teamHome.teamAway}}</mat-label>
              <mat-select>
                <mat-option *ngFor="let player of playersAway" [value]="player">{{ player.name }} {{ player.surname }}</mat-option>
              </mat-select>
            </mat-form-field>

          </div>


        </div>

        <form (ngSubmit)="getAllResults()" #resultForm="ngForm">

          <div class="mb-3 text-start">
          </div>
          <div class="mb-3 text-start">
            <label for="surname" class="form-label">Tím 2:</label>
            <input type="text" class="form-control" id="surname" name="surname" [(ngModel)]="newResult.teamIdAway" required pattern="^[a-zA-ZščťžýáíéúäôöüěřščřžýáíéúäôöüěřščřžľďťňĺŕŠČŤŽÝÁÍÉÚÄÔÖÜĚŘŠČŘŽĹĽ]+$">
          </div>

          <div class="d-flex justify-content-end">
            <button type="submit" mat-raised-button color="basic" [disabled]="resultForm.invalid" data-bs-dismiss="modal">Pridať výsledok</button>
          </div>

        </form>
      </div>
    </div>
  </div>
</div>


</body>
